<nav class="custom-navbar">
  <div class="d-flex flex-row">
    <a routerLink="/" class="mr-3">
      <img class="navbar-icon" src="../../../assets//images/reddit.png">
    </a>
    <span routerLink="/" class="text d-flex align-items-center mr-auto">Angular Reddit</span>

    <div *ngIf="!isMobile()" class="pt-2">
      <search-bar></search-bar>
    </div>
    

    <ng-container *ngIf="userSubscribtion | async">
      <span [routerLink]="'u/'+ user.name" *ngIf="user?.name !== 'anonymous'"
        class="d-flex align-items-center mr-3 ml-auto">{{user.name}}</span>
      <div *ngIf="!isMobile()" class="d-flex align-items-center">
        <button *ngIf="user.name === 'anonymous'" (click)="login()" class="btn btn-success">Login</button>
        <button *ngIf="user?.name !== 'anonymous'" (click)="logout()" class="btn btn-danger">Log out</button>
      </div>
    </ng-container>
  </div>

  <div [ngClass]="{'side-menu-show': menuToggle, 'side-menu': !menuToggle}">
    <a *ngIf="user.name === 'anonymous'">Login</a>
    <img class="banner-icon" [src]="user.icon_img | replacePipe">
    <span [routerLink]="'u/'+ user.name" *ngIf="user?.name !== 'anonymous'">{{user.name}}</span>
  </div>

  <button *ngIf="isMobile()" (click)="toggleMenu()" [ngClass]="{'hamburger-btn-clicked': menuToggle}" class="hamburger-btn">
    <div></div>
    <div></div>
    <div></div>
  </button>

</nav>
