<ng-container *ngIf="comments['length'];else noComments">

  <div class="mb-2" *ngFor="let comment of comments">

    <div *ngIf="comment.kind == 't1'; else moreReplies">
      <span class="mr-2">{{comment.data.author}}</span>
      <span
        [title]="comment.data.created_utc | dateTimePipe: 'format'">{{comment.data.created_utc | dateTimePipe: 'diff'}}</span>

      <!-- Awards -->
      <ng-container *ngIf="comment.data['all_awardings'] && comment.data['all_awardings'].length > 0">
        <app-award [isDetail]="false" [awards]="comment.data['all_awardings']"></app-award>
      </ng-container>

      <div class="post-comments markdown-comments" appMarkdown [selfText]="comment.data.body"></div>
      <div class="d-flex justify-content-end">
        <span class="p-2 post-buttons">Reply</span>
        <app-vote [score]="comment.data.score" [id]="comment.data.name" [liked]="comment.data.likes"></app-vote>
      </div>
    </div>


    <div *ngIf="hasReplies(comment)" class="children">
      <post-comments [isReplies]="true" [comments]="comment.data['replies']">
      </post-comments>
    </div>

  </div>

</ng-container>

<ng-template #noComments>
  <div class="p-5">
    <p class="text-center">No Comments \ (•◡•) /</p>
  </div>
</ng-template>

<ng-template #moreReplies>
  <div class="d-flex justify-content-start">
    <span class="post-buttons">More Replies</span>
  </div>
</ng-template>
